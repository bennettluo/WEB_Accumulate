# 循环播放中的缓存

# 背景

页面中有视频循环播放

视频7M

第一次播放 206分段 一般2~3端,加起来7M

第二次播放 206分段 1端 1~2M

# 怕服务器同学打过来

视频循环播放,不断206,视频没缓存,服务器同学会不会打过来

# 猜想

因为每次循环播放时,加载都是1~2M..所以会不会是因为浏览器对缓存大小做了限制?

chrome对每个域名的缓存都有大小限制,并且会以一定的算法清除少用的缓存

假设这个值为5M~10M

# 小视频情况

如果把视频换成500多K的视频,这种情况就不会存在,即使刷新页面,也不会再请求,而是打开谷歌调试框,连缓存的请求信息都没有......

# 腾讯视频调查

猜想.如果浏览器会对206的视频进行缓存,那么30~40分钟的视频,如果播放过,再拖回去,也不会有播放

但是实际的情况是

1. 视频播放了大概10分钟,再拖回去1分钟时,会发一次请求
2. 视频播放了大概10分钟,把网络端口,再拖回去1分钟时,会提示页面需要刷新,无视频

# 查看缓存信息

`chrome://cache/`能查看到图片的缓存,也有swf的.但是一直没找到206相关的缓存

并且页面调试的`Sources`Tab中也没有.......

# 结论

谷歌了一番..也没有找到相关的证据..虽然看起来事实好像是这样的,但是还不敢下定论,估计这文章后续会有更新
