# top

top主要用来监控CPU占有率和内存占有率

# 1. 基本显示讲解

![top](QQ20160814-1.png)

```shell
top - 当前系统时间 up 系统运行了多少天, 加上多少小时,多少个用户登录系统,load average: 1分钟,5分钟,15分钟的负载情况
Tasks: 系统共多少进程 total,多少个运行中 running, 多少个在休眠 sleeping, 多少个stoped,多少个僵尸状态 zombie
%Cpu(s): 用户空间CPU百分比,内核占用CPU百分比,改变过优先级的进程占用CPU百分比,空闲CPU百分比,硬斩断占用CPU百分比,软中断占用CPU百分比
KiB Mem: 物理内存总量,使用中的内存,空闲的内存,缓存的内存
Kib Swap: 交换区总量,使用的交换区总量,空闲交换区总量,缓冲的交换区总量
进程ID 进程所有者 进程优先级 nice值 进程使用的虚拟内存总量(kb) 进程使用的、未被换出的物理内存大小(kb) 进程状态 上次更新到现在的CPU时间占用百分比 进程使用的物理内存百分比 进程使用的CPU时间总计 进程名称
```

注意点

1. 计算可用内存数: 近似公式 第四行的空闲内存+第四行的缓存内存+第五行的缓冲区的交换区总量
2. 内存不够用: 当第五航的使用交换区总量在不断变化,说明内核在不断进行内存和swap数据交换,这是内存真正不够用
3. 第七行的nice值: 负值表示优先级别高 
4. VIRT(进程使用的虚拟内存总量) = SWAP + RES
5. RES(进程使用的、未被换出的物理内存大小) = CODE +DATA
6. 进程状态: D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程

# 2. 常用点

1. 多核CPU监控: 按数字`1`,可以监控每个逻辑CPU的状态
2. 高亮正在运行的进程: 按`B`
3. 高亮CPU占用率: 按`x`
4. 更改排序属性: `shift + >|<`

# 3. 常用参数

1. 显示完整命令: `top -c`
2. 显示所有进程: `top -b`


# 参考资料

<http://www.cnblogs.com/peida/archive/2012/12/24/2831353.html>
